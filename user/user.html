<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Evoting - Naija Electronic Voting System (NEVS)</title>
    <link rel="stylesheet" href=".././style.css" />
    <link rel="stylesheet" href="./user.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.0.0/css/flag-icons.min.css" />
</head>
<body>
    <div class="container">
        <page-header></page-header> <!-- Header content -->
        <div class="main">
            <div id="form">
                <div id="login-or-signup">
                    <button id="login-form-display" onclick="showLoginForm()">Login</button>
                    <button id="signup-form-display" onclick="showSignupForm()">Sign up</button>
                </div>
                <!-- Login form -->
                <div id="login">
                    <form id="login-form">
                        <input type="email" id="email" placeholder="Email" required>
                        <input type="password" id="password" placeholder="Password" required>
                        <button type="submit">Login</button>
                    </form>
                    <p>Forget password? <a href="#" onclick="showResetPassword()">Click Reset Password</a></p>
                    <p>No account yet? <a href="#" onclick="showSignupForm()">Click here to Register</a></p>
                </div>
                <!-- Signup form -->
                <div id="signup" style="display: none;">
                    <h4>Complete this Registration Form</h4>
                    <form id="signup-form" method="post" enctype="multipart/form-data" class="signup-form">
                        <div id="form-section-1">
                            <input type="text" maxlength="11" inputmode="numeric" pattern="[0-9]{11}" id="nin" 
                            name="ninNumber" placeholder="Enter 11-digit NIN number" required>
                            <span id="validation"></span>
                            <p id="guide-text">NIN must be numeric</p>
                            <p id="error-nin"></p>
                            <button type="button" id="validateNIN" onclick="validateUserNIN()" disabled>Submit</button>
                        </div>
                        <!-- HTML TEMPLATE FOR SIGNUP SECTION -->
                        <!-- This template is hidden. It will be populated dynamically from the DOM once NIN is verified -->
                        <div style="display: none;" id="form-section-2">
                            <div class="entry-wrapper">Lastname: 
                                <input type="text" placeholder="Lastname">
                            </div>
                            <div class="entry-wrapper">Firstname: 
                                <input type="text" placeholder="Firstname">
                            </div>
                            <div class="entry-wrapper">Username:
                                <input type="text" placeholder="Username">
                            </div>
                            <div class="entry-wrapper">DOB:
                                <input type="date" name="dob" id="dob">
                                <select id="state-dropdown" onchange="updateLGA()">
                                    <option value="" selected>Select State</option>
                                </select>
                                <select id="lga-dropdown">
                                    <option value="">Select LGA</option>
                                </select>
                            </div>
                            <div class="entry-wrapper">Email:
                                <input type="email" placeholder="Email">
                            </div>
                            <div class="entry-wrapper">Password:
                                <input type="password" id="passwordField" placeholder="Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" 
                                title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
                            </div>
                            <div class="entry-wrapper upload"><p>Upload ID card</p>
                                <input type="file" name="uploadID" id="uploadID" accept="image/*">
                            </div>
                            <div class="entry-wrapper upload"><p>Upload Selfie (plain background only)</p>
                                <input type="file" name="uploadSelfie" id="uploadSelfie" accept="image/*">
                            </div>
                            <!-- <button type="submit">Register</button> -->
                        </div>
                    </form>
                    <p>Already registered? <a href="#" onclick="showLoginForm()">Click here to Login</a></p>
                </div> 
                <!-- HTML TEMPLATE FOR RESET PASSWORD -->
                <div id="reset-password" style="display: none;">
                    <form id="reset-password-form">
                        <p style="text-align: center; text-decoration: underline; color: #003366;">Reset Password</p>
                        <input type="email" name="reset-email" placeholder="Email" required>
                        <p style="text-align: center;">or</p>
                        <input type="text" placeholder="Phone number" disabled>
                        <button>Submit</button>
                    </form>
                    <p>If you know your login details, <a href="#" onclick="showLoginForm()">click here to Login</a></p>
                    <p>No account yet? <a href="#" onclick="showSignupForm()">Click here to Register</a></p>
                </div>
                <!-- HTML TEMPLATE FOR RESET PASSWORD SUCCESS -->
                <div id="reset-password-success" style="display: none;">
                    <p style="text-align: center; color: #003366;">Password reset link has been sent to your email address.</p>
                    <button onclick="resetPasswordOk()">OK</button>
                </div>
            </div>
            <!-- HTML TEMPLATE FOR SIGNUP SUCCESS -->
            <div id="signup-success" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <p>Account created successfully. Please login and verify your email.</p>
                    <p>Once your profile is verified by the Electoral commission, your voting ID will be generated.</p>
                    <button class="mybutton" id="go-to-login" style="position: relative; right: 0;">Login</button>
                </div>
            </div>
        </div>
        <page-footer></page-footer> <!-- Footer content -->
    </div>
    <script src=".././script.js"></script>
    <script src="./user.js"></script>
    <script src=".././states.js"></script>
</body>
</html>